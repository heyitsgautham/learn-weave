# ========================================
# LearnWeave AI - Environment Configuration
# ========================================
# Copy this file to .env and fill in your actual values
# For local development, some values have safe defaults

# ========================================
# 1. SECURITY & JWT SETTINGS
# ========================================
# Generate a strong secret key for JWT token signing
# You can generate one using: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-please-change
SESSION_SECRET_KEY=your-session-secret-key-here-please-change

# Token expiration times (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=20
REFRESH_TOKEN_EXPIRE_MINUTES=360000

# Set to false for local development, true for production with HTTPS
SECURE_COOKIE=false

# ========================================
# 2. DATABASE CONFIGURATION (MySQL)
# ========================================
# MySQL connection credentials
# These must match what you set up in MySQL (setup_database.sql or setup-db.sh --create)
DB_USER=learnweave_user
DB_PASSWORD=learnweave_pass
DB_HOST=localhost
DB_PORT=3306
DB_NAME=learnweave_db

# Database Connection Pool Settings (optional, defaults work fine)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true
DB_CONNECT_TIMEOUT=10

# ========================================
# 3. GOOGLE CLOUD / VERTEX AI (REQUIRED!)
# ========================================
# This app uses Google Gemini AI models - YOU MUST SET THIS UP!
# 
# Steps to get Google Cloud credentials:
# 1. Go to https://console.cloud.google.com/
# 2. Create a new project (or use existing)
# 3. Enable "Vertex AI API" and "Generative Language API"
# 4. Create a Service Account with "Vertex AI User" role
# 5. Download the JSON key file
# 6. Either:
#    a) Set GOOGLE_APPLICATION_CREDENTIALS to the path of your JSON file
#    b) Or place the JSON file in the backend folder and update docker-compose.yml
#
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/your/service-account-key.json
#
# Note: For Docker deployment, mount the JSON file as shown in docker-compose.yml

# ========================================
# 4. CHROMADB CONFIGURATION (Vector Database)
# ========================================
# ChromaDB is used for RAG (Retrieval Augmented Generation)
# For local dev, you can run it via Docker (see docker-compose.yml)
CHROMA_HOST=localhost
CHROMA_PORT=8001
CHROMA_COLLECTION_NAME=learnweave_content
CHROMA_DB_URL=http://localhost:8001
CHROMA_CLIENT_TYPE=http

# Embedding model for vector storage (downloads automatically)
EMBEDDING_MODEL=all-MiniLM-L6-v2

# ========================================
# 5. UNSPLASH API (For Image Search)
# ========================================
# Get your API keys from: https://unsplash.com/developers
# Free tier: 50 requests per hour
# OPTIONAL: App works without this, but image search won't work
UNSPLASH_ACCESS_KEY=your-unsplash-access-key
UNSPLASH_SECRET_KEY=your-unsplash-secret-key

# ========================================
# 6. OAUTH PROVIDERS (Optional - for social login)
# ========================================
# If you want Google OAuth login, create OAuth 2.0 credentials:
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-oauth-client-id
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/google/callback

# GitHub OAuth: https://github.com/settings/developers
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URI=http://localhost:8000/api/github/callback

# Discord OAuth: https://discord.com/developers/applications
DISCORD_CLIENT_ID=your-discord-client-id
DISCORD_CLIENT_SECRET=your-discord-client-secret
DISCORD_REDIRECT_URI=http://localhost:8000/api/discord/callback

# ========================================
# 7. DEFAULT ADMIN USER
# ========================================
# These credentials are used by scripts/setup-db.sh --create
# to auto-create an admin user so you don't have to do it manually.
# Change these BEFORE running the setup script!
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@learnweave.local
ADMIN_PASSWORD=admin123

# ========================================
# 8. FRONTEND CONFIGURATION
# ========================================
# URL where your frontend is running
FRONTEND_BASE_URL=http://localhost:5173

# ========================================
# 9. DEVELOPMENT SETTINGS
# ========================================
# Enable detailed agent logging
AGENT_DEBUG_MODE=true
